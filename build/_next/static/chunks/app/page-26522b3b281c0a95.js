(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9354:function(e,t,a){Promise.resolve().then(a.bind(a,8838))},8838:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var n=a(9268),s=a(6006),r=a(6394),c=a.n(r),l=a(1915),i=a.n(l);function o(e){let{label:t,options:a,selected:s,onSelectChange:r}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:i().label,children:t}),(0,n.jsx)("select",{className:i().selection,value:s,onChange:e=>r(e),children:a.map((e,t)=>(0,n.jsx)("option",{value:e.value,children:e.label},t))})]})}var d=a(7533),u=a.n(d);a(6356);class h{static getUrl(e,t){return e+"?"+this._getEncodeParams(t)}static _getEncodeParams(e){let t=[];for(let a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}}var p=a(7249),x=a.n(p),_={src:"/_next/static/media/setting.43d031ac.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAARUlEQVR42mMAAx+G/UDoA+GYM6xiWMHAAoQrGFYBeQy7GbQYmBlKgJCZQQvIY+hicGNIZUgHwlQGN4YuDAEMLRiGYlgLAN6zFkHO9s5+AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};function m(e){let{title:t,btnLabel:a,children:r}=e,[l,i]=(0,s.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{className:x().btnToggle,onClick:()=>{i(!0)},children:[(0,n.jsx)(c(),{src:_,alt:"Configuration icon",style:{width:"17px",height:"17px"}}),a]}),(0,n.jsx)("div",{onClick:()=>{i(!0)},className:"".concat(x().overlay," ").concat(l?"":x().hidden),children:(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),className:x().offcanvas,children:[(0,n.jsxs)("div",{className:x().header,children:[(0,n.jsx)("h3",{children:t}),(0,n.jsx)("button",{onClick:()=>{i(!1)},children:"x"})]}),(0,n.jsx)("div",{className:x().offcanvas,children:r})]})})]})}var g=a(561),f=a.n(g);function j(){return(0,n.jsx)("h1",{className:f().Titre,children:"Open App Meteo"})}var b=a(2713),v=a.n(b);function A(){return(0,n.jsx)("p",{className:v().footerP,children:"Marie-Jeanne Drouin - PMI 2023"})}var k=a(1712);function C(){let[e,t]=(0,s.useState)("45.5017/-73.5673"),[a,r]=(0,s.useState)(null),[l,i]=(0,s.useState)(""),[d,p]=(0,s.useState)(null),[x,_]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!0),[b,v]=(0,s.useState)(!0),[C,N]=(0,s.useState)(!0),[w,y]=(0,s.useState)(!0),[S,T]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(e){let t=e.split("/"),a=h.getUrl("https://api.open-meteo.com/v1/forecast",{latitude:t[0],longitude:t[1],hourly:["temperature_2m","precipitation"],daily:["temperature_2m_min","temperature_2m_max","weathercode"],timezone:"America/New_York"});fetch(a).then(e=>e.json()).then(e=>{r(e);let t=e.daily.weathercode[0];p(t)}).catch(e=>{console.error("Error fetching data:",e)})}let t=k.Z.get("optionsEnabled"),a=k.Z.get("showDate"),n=k.Z.get("showPrecipitation"),s=k.Z.get("showMinTemperature"),c=k.Z.get("showMaxTemperature"),l=k.Z.get("showTemperature");_("true"===t),f("true"===a),v("true"===n),N("true"===s),y("true"===c),T("true"===l)},[e]),(0,n.jsxs)("main",{className:u().main,children:[(0,n.jsx)(j,{}),(0,n.jsxs)("div",{className:u().param,children:[(0,n.jsx)(o,{label:"Ville",options:[{label:"Montr\xe9al",value:"45.5017/-73.5673"},{label:"Qu\xe9bec",value:"46.8139/-71.2080"},{label:"Matane",value:"48.8390/-67.5200"},{label:"Sherbrooke",value:"45.4000/-71.9000"}],selected:e,onSelectChange:e=>{let a=e.target.value,n=e.target.options[e.target.selectedIndex].text;i(n),t(a)}}),(0,n.jsx)(m,{title:"Configuration des param\xe8tres",btnLabel:"",children:(0,n.jsx)("form",{className:u().Offcanvas,children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:x,onChange:e=>{let t=e.target.checked;_(t),k.Z.set("optionsEnabled",t)}}),"Activer les options"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:g,disabled:!x,onChange:e=>{let t=e.target.checked;f(t),k.Z.set("showDate",t)}}),"Date"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:b,disabled:!x,onChange:e=>{let t=e.target.checked;v(t),k.Z.set("showPrecipitation",t)}}),"Chance de pr\xe9cipitation"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:C,disabled:!x,onChange:e=>{let t=e.target.checked;N(t),k.Z.set("showMinTemperature",t)}}),"Temp\xe9rature minimum"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:w,disabled:!x,onChange:e=>{let t=e.target.checked;y(t),k.Z.set("showMaxTemperature",t)}}),"Temp\xe9rature maximum"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:S,disabled:!x,onChange:e=>{let t=e.target.checked;T(t),k.Z.set("showTemperature",t)}}),"Temp\xe9rature actuelle"]})})]})})})]}),(0,n.jsxs)("div",{className:u().tempSettings,children:[(0,n.jsx)(c(),{src:function(){switch(d){case 0:default:return"/sun.svg";case 1:case 2:case 3:return"/sunCloud.svg";case 51:case 53:case 55:return"/cloud.svg";case 56:case 57:case 61:case 63:case 65:case 66:case 67:case 80:case 81:case 82:return"/rain.svg";case 95:case 96:return"/eclair.png"}}(),alt:"Weather Icon",width:100,height:100}),(0,n.jsx)("h2",{children:l}),w&&(0,n.jsxs)("p",{children:["Temp\xe9rature maximale : ",null==a?void 0:a.daily.temperature_2m_max[0]," \xb0C"]}),C&&(0,n.jsxs)("p",{children:["Temp\xe9rature minimale : ",null==a?void 0:a.daily.temperature_2m_min[0]," \xb0C"]}),g&&(0,n.jsxs)("p",{children:["Date : ",null==a?void 0:a.daily.time[0]]}),b&&(0,n.jsxs)("p",{children:["Pr\xe9cipitations : ",null==a?void 0:a.hourly.precipitation[0]," mm"]}),S&&(0,n.jsxs)("p",{children:["Temp\xe9rature actuelle: ",null==a?void 0:a.hourly.temperature_2m[0]," \xb0C"]})]}),(0,n.jsx)(A,{})]})}},6356:function(){},2713:function(e){e.exports={footerP:"Footer_footerP__a0rkn"}},561:function(e){e.exports={Titre:"Header_Titre__pO3gV"}},7249:function(e){e.exports={overlay:"Offcanvas_overlay__p_XyT",hidden:"Offcanvas_hidden__aFjCG",offcanvas:"Offcanvas_offcanvas__ab3WW",header:"Offcanvas_header__u1rFp",btnToggle:"Offcanvas_btnToggle___VXyY"}},1915:function(e){e.exports={label:"Select_label___56fQ",selection:"Select_selection__9a_Kk"}},7533:function(e){e.exports={main:"page_main__ibFHK",param:"page_param__M7iaG",tempSettings:"page_tempSettings__NB21G",description:"page_description__s_Lqk",code:"page_code__Cdcue",grid:"page_grid__2WZXq",card:"page_card__ftWzl",center:"page_center__GvJ9Y",logo:"page_logo__M5piD",content:"page_content__rFejU",vercelLogo:"page_vercelLogo__1QD2W",rotate:"page_rotate__P15uU"}}},function(e){e.O(0,[301,667,488,744],function(){return e(e.s=9354)}),_N_E=e.O()}]);